(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{363:function(e,t){function a(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}a.keys=function(){return[]},a.resolve=a,e.exports=a,a.id=363},388:function(e,t,a){},389:function(e,t,a){},469:function(e,t,a){"use strict";a.r(t);var n=a(2),c=a(0),r=a.n(c),i=a(17),o=a.n(i),s=(a(388),a(389),a(70)),l=a(37),d=a(20),j=a(18),u=a(45),b=a(128),h=a(501),p=a(221),m=a(503),O=a(113),g=a(500),x=a(42),f=a(278),y=Object(c.createContext)(),v=function(e){var t=e.children,a=Object(c.useState)(null===localStorage.getItem("theme")||"true"===localStorage.getItem("theme")),r=Object(j.a)(a,2),i=r[0],o=r[1];return Object(n.jsx)(y.Provider,{value:{dark:i,toggleTheme:function(){o(!i),localStorage.setItem("theme",!i)}},children:t})},C=a(365),k=a(340),S=a(341),w=a(504),A=a(505),P=a(506),I=a(48),N=a(25),T=a.n(N),B="https://cosmicom.herokuapp.com",_=Object(f.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(https://images.unsplash.com/photo-1557821552-17105176677c?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1489&q=80)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"right"},paper:{margin:e.spacing(0,4),height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},cosmicom:{fontFamily:"'Open Sans', sans-serif",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},form:{width:"100%",marginTop:e.spacing(1)},submit:{marginTop:e.spacing(3)},forgotLabel:{marginTop:e.spacing(2)},fab:Object(u.a)({position:"absolute",top:e.spacing(2),left:e.spacing(2),backgroundColor:e.palette.background.paper,color:e.palette.text.primary},e.breakpoints.down("md"),{boxShadow:"none"})}}));function D(){var e=_(),t=Object(c.useContext)(y),a=t.dark,r=t.toggleTheme,i=Object(I.b)().enqueueSnackbar,o=Object(l.f)(),f=Object(c.useState)({email:"",password:"",usertype:"user"}),v=Object(j.a)(f,2),N=v[0],D=v[1],q=Object(c.useState)(!1),z=Object(j.a)(q,2),W=z[0],L=z[1],R=function(e){var t=e.target;t.id?D(Object(d.a)(Object(d.a)({},N),{},Object(u.a)({},t.id,t.value))):D(Object(d.a)(Object(d.a)({},N),{},Object(u.a)({},t.name,t.value)))},E=function(e){e.preventDefault(),N.email&&N.password?(L(!0),T.a.post("".concat(B,"/login"),N,{headers:{"Content-Type":"application/json"}}).then((function(e){i("Login Successful",{variant:"success"}),sessionStorage.setItem("token",e.data.token),o.push("/".concat(N.usertype)+("user"===N.usertype?"?page=1":""))})).catch((function(e){console.log(e),i("Invalid credentials",{variant:"error"}),L(!1)}))):alert("Please fill all fields to login")};return Object(n.jsxs)(g.a,{container:!0,component:"main",className:e.root,children:[Object(n.jsx)(h.a,{}),Object(n.jsx)(g.a,{item:!0,xs:!1,sm:4,md:8,className:e.image,children:Object(n.jsx)(C.a,{smDown:!0,children:Object(n.jsx)(x.a,{component:"h1",variant:"h2",className:e.cosmicom,style:{backgroundColor:a?"rgba(0,0,0,0.5)":"rgba(255,255,255,0.5)"},children:"Cosmicom"})})}),Object(n.jsx)(g.a,{item:!0,xs:12,sm:8,md:4,component:O.a,elevation:6,square:!0,children:Object(n.jsxs)("div",{className:e.paper,children:[Object(n.jsx)(x.a,{component:"h1",variant:"h5",children:"Login"}),Object(n.jsxs)("form",{className:e.form,noValidate:!0,onSubmit:E,children:[Object(n.jsx)(p.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,onChange:R}),Object(n.jsx)(p.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:R}),Object(n.jsxs)(p.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"usertype",label:"How do you plan to use this website?",name:"usertype",autoComplete:"usertype",select:!0,value:N.usertype,onChange:R,children:[Object(n.jsx)(k.a,{value:"user",children:"As a customer"}),Object(n.jsx)(k.a,{value:"merchant",children:"As a merchant"}),Object(n.jsx)(k.a,{value:"shipper",children:"As a shipper"}),Object(n.jsx)(k.a,{value:"employee",children:"As an employee"})]}),Object(n.jsx)(b.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,onClick:E,children:"Sign In"}),W&&Object(n.jsx)(S.a,{}),Object(n.jsx)(g.a,{container:!0,className:e.forgotLabel,children:Object(n.jsx)(g.a,{item:!0,children:Object(n.jsx)(m.a,{component:s.b,to:"/register",children:"Don't have an account? Sign Up"})})})]})]})}),Object(n.jsx)(w.a,{color:"secondary","aria-label":"toggle",onClick:r,className:e.fab,children:a?Object(n.jsx)(A.a,{}):Object(n.jsx)(P.a,{})})]})}var q=a(552),z=a(212),W=a(30),L=a(260),R=Object(f.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(https://images.unsplash.com/photo-1557821552-17105176677c?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1489&q=80)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"right"},paper:{margin:e.spacing(0,4),height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},cosmicom:{fontFamily:"'Open Sans', sans-serif",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},fab:Object(u.a)({position:"absolute",top:e.spacing(2),left:e.spacing(2),backgroundColor:e.palette.background.paper,color:e.palette.text.primary},e.breakpoints.down("md"),{boxShadow:"none"})}}));function E(){var e=R(),t=Object(c.useContext)(y),a=t.dark,r=t.toggleTheme,i=Object(I.b)().enqueueSnackbar,o=Object(l.f)(),f=Object(c.useState)(0),v=Object(j.a)(f,2),S=v[0],N=v[1],_=Object(c.useState)([]),D=Object(j.a)(_,2),E=D[0],M=D[1],F=Object(c.useState)({usertype:"user",dob:new Date}),G=Object(j.a)(F,2),U=G[0],H=G[1];Object(c.useEffect)((function(){T.a.get("".concat(B,"/countries")).then((function(e){M(e.data)})).catch((function(e){return alert(e)}))}),[]);var Q=function(e){var t=e.target;t.id?H(Object(d.a)(Object(d.a)({},U),{},Object(u.a)({},t.id,t.value))):H(Object(d.a)(Object(d.a)({},U),{},Object(u.a)({},t.name,t.value)))};return Object(n.jsxs)(g.a,{container:!0,component:"main",className:e.root,children:[Object(n.jsx)(h.a,{}),Object(n.jsx)(g.a,{item:!0,xs:!1,sm:4,md:8,className:e.image,children:Object(n.jsx)(C.a,{smDown:!0,children:Object(n.jsx)(x.a,{component:"h1",variant:"h2",className:e.cosmicom,style:{backgroundColor:a?"rgba(0,0,0,0.5)":"rgba(255,255,255,0.5)"},children:"Cosmicom"})})}),Object(n.jsx)(g.a,{item:!0,xs:12,sm:8,md:4,component:O.a,elevation:6,square:!0,children:Object(n.jsxs)("div",{className:e.paper,children:[Object(n.jsx)(x.a,{component:"h1",variant:"h5",children:"Register"}),Object(n.jsxs)("form",{className:e.form,noValidate:!0,onSubmit:function(e){if(e.preventDefault(),2===S)return U.name&&U.email&&U.password?U.password!==U.confpass?void i("Password mismatch!",{variant:"error"}):void T.a.post("".concat(B,"/register"),U,{headers:{"Content-Type":"application/json"}}).then((function(e){i("Registration successful!",{variant:"success"}),o.push("/")})).catch((function(e){i(e.response.data,{variant:"error"})})):void i("All fields must be filled!",{variant:"error"});if(1===S)if("user"===U.usertype){if(!U.country_code||!U.gender||!U.phone)return void i("All fields must be filled!",{variant:"error"})}else if(!U.country_code||!U.website)return void i("All fields must be filled!",{variant:"error"});N((S+1)%3)},children:[0===S?Object(n.jsxs)(p.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"usertype",label:"How do you plan to use this website?",name:"usertype",autoComplete:"usertype",autoFocus:!0,select:!0,value:U.usertype,onChange:Q,children:[Object(n.jsx)(k.a,{value:"user",children:"As a customer"}),Object(n.jsx)(k.a,{value:"merchant",children:"As a merchant"}),Object(n.jsx)(k.a,{value:"shipper",children:"As a shipper"})]}):1===S?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(q.a,{id:"country_code",fullWidth:!0,options:E,onChange:function(e,t){Q({target:{id:e.target.id.split("-")[0],value:t.code}})},autoHighlight:!0,getOptionLabel:function(e){return e.name},renderOption:function(e){return Object(n.jsx)(n.Fragment,{children:"[".concat(e.code,"] ").concat(e.name," [").concat(e.dial_code,"]")})},renderInput:function(e){return Object(n.jsx)(p.a,Object(d.a)(Object(d.a)({},e),{},{label:"Choose a country",variant:"outlined",inputProps:Object(d.a)(Object(d.a)({},e.inputProps),{},{autoComplete:"new-password"})}))}}),"user"===U.usertype?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(p.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"gender",label:"Gender",name:"gender",autoComplete:"gender",onChange:Q}),Object(n.jsx)(p.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"phone",label:"Phone no",name:"phone",autoComplete:"phone",type:"number",onChange:Q}),Object(n.jsx)(W.a,{utils:z.default,children:Object(n.jsx)(L.b,{disableToolbar:!0,inputVariant:"outlined",variant:"inline",format:"yyyy-MM-dd",margin:"normal",id:"dob",label:"Date of birth",value:U.dob,onChange:function(e,t){return Q({target:{id:"dob",value:t}})},fullWidth:!0,autoComplete:"dob"})})]}):Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(p.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"website",label:"Website",name:"website",autoComplete:"website",onChange:Q})})]}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(p.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"name",label:"Full name",name:"name",autoComplete:"name",autoFocus:!0,onChange:Q}),Object(n.jsx)(p.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",onChange:Q}),Object(n.jsx)(p.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:Q}),Object(n.jsx)(p.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"confpass",label:"Confirm Password",type:"password",id:"confpass",autoComplete:"confirm-password",onChange:Q})]}),S>0&&Object(n.jsx)(b.a,{fullWidth:!0,color:"primary",onClick:function(){return N(S-1)},children:"Go back"}),Object(n.jsx)(b.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,children:S<2?"Next":"Submit"})]}),Object(n.jsx)(g.a,{container:!0,children:Object(n.jsx)(g.a,{item:!0,children:Object(n.jsx)(m.a,{component:s.b,to:"/",children:"Already have an account? Login instead"})})})]})}),Object(n.jsx)(w.a,{color:"secondary","aria-label":"toggle",onClick:r,className:e.fab,children:a?Object(n.jsx)(A.a,{}):Object(n.jsx)(P.a,{})})]})}var M=a(476),F=a(483),G=a(343),U=a(358),H=a(524),Q=a(345),J=a(169),V=a(482),Y=a(512),K=a(269),X=a(551),Z=a(511),$=a(554),ee=a(485),te=a(520),ae=a(486),ne=a(519),ce=a(487),re=a(513),ie=a(514),oe=a(83),se=a.n(oe),le=a(527),de=a(528),je=a(529),ue=a(530),be=a(531),he=a(532),pe=Object(f.a)((function(e){return{root:{flex:1},appBar:{top:"auto",bottom:0},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},tableGrid:Object(u.a)({marginTop:e.spacing(2)},e.breakpoints.down("sm"),{marginBottom:e.spacing(9)}),list:{width:360},nested:{paddingLeft:e.spacing(4)}}})),me={columns:[{title:"Name",field:"name",filtering:!1,sorting:!1},{title:"Email",field:"email",filtering:!1,sorting:!1},{title:"Website",field:"website",filtering:!1,sorting:!1}],options:{actionsColumnIndex:-1,pageSize:10,pageSizeOptions:[],search:!1}};function Oe(){var e=pe(),t=Object(l.f)(),a=r.a.useRef(),i=r.a.useRef(),o=Object(c.useContext)(y),s=o.dark,h=o.toggleTheme,O=Object(M.a)((function(e){return e.breakpoints.up("sm")})),f=r.a.useState(0),v=Object(j.a)(f,2),k=v[0],S=v[1],w=r.a.useState(!1),N=Object(j.a)(w,2),_=N[0],D=N[1],q=r.a.useState([]),z=Object(j.a)(q,2),W=z[0],L=z[1],R=r.a.useState(!1),E=Object(j.a)(R,2),oe=E[0],Oe=E[1],ge=r.a.useState({parent_name:"",parent_id:"",cat_name:"",cat_icon:""}),xe=Object(j.a)(ge,2),fe=xe[0],ye=xe[1],ve=Object(I.b)().enqueueSnackbar,Ce=function(){return D(!_)},ke=function(){return Oe(!oe)},Se=function(e,t){S(t),a.current.onChangePage(e,0),i.current.onChangePage(e,0)},we=function(){return T.a.get("".concat(B,"/employees/categories"),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token")),"Content-Type":"application/json"}}).then((function(e){console.log(e.data),L(e.data)})).catch((function(e){return ve(e.message,{variant:"error"})}))};r.a.useEffect(we,[]);var Ae=function(e,t,a){window.confirm("Do you want to reject "+t.name+" ?")&&T.a.delete("".concat(B,"/employees/").concat(k?"shippers":"merchants","/").concat(t.id),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token")),"Content-Type":"application/json"}}).then((function(t){a.current.onChangePage(e,0)})).catch((function(e){return ve(e.message,{variant:"error"})}))},Pe=function(e){return function(t){Ce(),ye(Object(d.a)(Object(d.a)({},fe),{},{parent_name:e.cat_name,parent_id:e.id})),ke()}},Ie=function(e){ye(Object(d.a)(Object(d.a)({},fe),{},Object(u.a)({},e.currentTarget.id,e.currentTarget.value)))},Ne=function(e){return function(t){window.confirm("Delete category ".concat(e.cat_name,"?"))&&T.a.delete("".concat(B,"/employees/categories/").concat(e.id),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token")),"Content-Type":"application/json"}}).then(we).then((function(){ve("Category removed successfully",{variant:"info"})})).catch((function(e){return ve(e.message,{variant:"error"})}))}},Te=function t(a){return a.children.map((function(a,c){return Object(n.jsxs)("div",{children:[Object(n.jsxs)(F.a,{style:{paddingLeft:16*a.lvl},children:[Object(n.jsx)(G.a,{className:e.menuButton,children:a.cat_icon}),Object(n.jsx)(U.a,{primary:a.cat_name}),Object(n.jsxs)(H.a,{children:[Object(n.jsx)(Q.a,{title:"Add Child",children:Object(n.jsx)(J.a,{edge:"start",onClick:Pe(a),children:Object(n.jsx)(le.a,{})})}),Object(n.jsx)(Q.a,{title:"Delete category",children:Object(n.jsx)(J.a,{edge:"end",onClick:Ne(a),children:Object(n.jsx)(de.a,{})})})]})]}),a.children.length>0&&Object(n.jsx)(V.a,{component:"div",disablePadding:!0,children:Object(n.jsx)(t,{children:a.children})})]},c)}))};return Object(n.jsxs)(g.a,{children:[Object(n.jsx)(Y.a,{position:"sticky",color:"inherit",children:Object(n.jsxs)(K.a,{children:[Object(n.jsx)(J.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu",onClick:Ce,disabled:!W.length,children:Object(n.jsx)(je.a,{})}),Object(n.jsx)(x.a,{variant:"h6",className:e.title,children:"Employee Admin"}),Object(n.jsx)(C.a,{smDown:!0,children:Object(n.jsxs)(X.a,{value:k,onChange:Se,"aria-label":"simple tabs example",children:[Object(n.jsx)(Z.a,{icon:Object(n.jsx)(ue.a,{}),label:"Merchants",id:"simple-tab-1","aria-controls":"simple-tabpanel-1"}),Object(n.jsx)(Z.a,{icon:Object(n.jsx)(be.a,{}),label:"Shippers",id:"simple-tab-2","aria-controls":"simple-tabpanel-2"})]})}),Object(n.jsx)(J.a,{edge:"end",color:"inherit",onClick:h,children:s?Object(n.jsx)(A.a,{}):Object(n.jsx)(P.a,{})}),Object(n.jsx)(J.a,{edge:"end",color:"inherit",onClick:function(){sessionStorage.clear(),t.push("/")},children:Object(n.jsx)(he.a,{})})]})}),Object(n.jsxs)(g.a,{container:O,direction:"row",justify:"space-evenly",alignItems:"center",className:e.tableGrid,children:[Object(n.jsx)(g.a,{item:!0,md:5,children:Object(n.jsx)(se.a,Object(d.a)(Object(d.a)({},me),{},{tableRef:a,data:function(e){return new Promise((function(t,a){var n="".concat(B,"/employees/").concat(k?"shippers":"merchants","/false/").concat(e.page+1),c=sessionStorage.getItem("token");T.a.get(n,{headers:{Authorization:"Bearer ".concat(c)}}).then((function(a){return t({data:a.data,page:e.page,totalCount:a.data.length?parseInt(a.data[0].totalcount):0})})).catch((function(e){return a(e.message)}))}))},title:"Unchecked",actions:[{icon:"save",tooltip:"Save User",onClick:function(e,t){return T.a.patch("".concat(B,"/employees/").concat(k?"shippers":"merchants","/").concat(t.id),null,{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token")),"Content-Type":"application/json"}}).then((function(t){a.current.onChangePage(e,0),i.current.onChangePage(e,0)})).catch((function(e){return ve(e.message,{variant:"error"})}))}},{icon:"delete",tooltip:"Delete User",onClick:function(e,t){return Ae(e,t,a)}}]}))}),Object(n.jsx)(g.a,{item:!0,md:5,style:{marginTop:O?0:"16px"},children:Object(n.jsx)(se.a,Object(d.a)(Object(d.a)({},me),{},{tableRef:i,data:function(e){return new Promise((function(t,a){var n="".concat(B,"/employees/").concat(k?"shippers":"merchants","/true/").concat(e.page+1),c=sessionStorage.getItem("token");T.a.get(n,{headers:{Authorization:"Bearer ".concat(c)}}).then((function(a){return t({data:a.data,page:e.page,totalCount:a.data.length?parseInt(a.data[0].totalcount):0})})).catch((function(e){return a(e.message)}))}))},title:"Approved",actions:[{icon:"delete",tooltip:"Delete User",onClick:function(e,t){return Ae(e,t,i)}}]}))})]}),Object(n.jsx)($.a,{open:_,anchor:"left",onOpen:Ce,onClose:Ce,children:Object(n.jsxs)(V.a,{className:e.list,children:[Object(n.jsx)(Te,{children:W}),Object(n.jsxs)(F.a,{button:!0,onClick:Pe({cat_name:"",id:W.length>0?W[0].parent_id:""}),children:[Object(n.jsx)(G.a,{className:e.menuButton,children:"add_circle"}),Object(n.jsx)(U.a,{primary:"Add Category"})]})]})}),Object(n.jsxs)(ee.a,{open:oe,onClose:ke,children:[Object(n.jsx)(te.a,{children:"Create a new category"}),Object(n.jsxs)(ae.a,{children:[Object(n.jsxs)(ne.a,{children:["Choose an icon from"," ",Object(n.jsx)(m.a,{href:"https://material.io/resources/icons/?style=baseline",target:"_blank",rel:"noopener",children:"here."})]}),!!fe.parent_name&&Object(n.jsx)(p.a,{label:"Parent Category",type:"text",margin:"normal",fullWidth:!0,variant:"outlined",value:fe.parent_name,disabled:!0}),Object(n.jsx)(p.a,{id:"cat_name",margin:"normal",label:"Name of category",type:"text",fullWidth:!0,variant:"outlined",value:fe.cat_name,onChange:Ie}),Object(n.jsx)(p.a,{id:"cat_icon",margin:"normal",label:"Name of icon",type:"text",fullWidth:!0,variant:"outlined",value:fe.cat_icon,onChange:Ie})]}),Object(n.jsxs)(ce.a,{children:[Object(n.jsx)(b.a,{onClick:ke,color:"secondary",children:"Cancel"}),Object(n.jsx)(b.a,{onClick:function(){T.a.post("".concat(B,"/employees/categories"),fe,{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token")),"Content-Type":"application/json"}}).then(we).then((function(){ve("Category added successfully",{variant:"success"})})).catch((function(e){return ve(e.message,{variant:"error"})})).finally(ke)},color:"primary",disabled:!fe.cat_name||!fe.cat_icon,children:"Submit"})]})]}),Object(n.jsx)(C.a,{mdUp:!0,children:Object(n.jsx)(Y.a,{position:"fixed",color:"inherit",className:e.appBar,children:Object(n.jsx)(K.a,{children:Object(n.jsxs)(re.a,{value:k,onChange:Se,className:e.root,showLabels:!0,children:[Object(n.jsx)(ie.a,{icon:Object(n.jsx)(ue.a,{}),label:"Merchants"}),Object(n.jsx)(ie.a,{icon:Object(n.jsx)(be.a,{}),label:"Shipping"})]})})})})]})}var ge=a(231),xe=a.n(ge),fe=a(232),ye=a.n(fe),ve=a(233),Ce=a.n(ve),ke=a(234),Se=a.n(ke),we=Object(f.a)((function(e){return{root:{flexGrow:1},appBar:{top:"auto",bottom:0},title:{flexGrow:1},nested:{paddingLeft:e.spacing(4)},tableGrid:Object(u.a)({marginTop:e.spacing(10)},e.breakpoints.up("sm"),{paddingLeft:e.spacing(1),paddingRight:e.spacing(1)})}})),Ae={columns:[{title:"UserName",field:"name",filtering:!1,sorting:!1},{title:"Email",field:"email",filtering:!1,sorting:!1},{title:"Net Amount",field:"netAmt",filtering:!1,sorting:!1},{title:"Payment Mode",field:"paymentMode",filtering:!1,sorting:!1}],options:{actionsColumnIndex:-1,pageSize:10,pageSizeOptions:[],search:!1}};function Pe(){var e=we(),t=Object(l.f)(),a=r.a.useRef(),i=Object(c.useContext)(y),o=i.dark,s=i.toggleTheme,u=Object(M.a)((function(e){return e.breakpoints.up("sm")})),b=r.a.useState(0),p=Object(j.a)(b,2),m=p[0],O=p[1],f=Object(I.b)().enqueueSnackbar,v=function(e,t){O(t),a.current.onChangePage(e,0)};return Object(n.jsxs)(g.a,{children:[Object(n.jsx)(h.a,{}),Object(n.jsx)(Y.a,{position:"fixed",color:"inherit",children:Object(n.jsxs)(K.a,{children:[Object(n.jsx)(x.a,{variant:"h6",className:e.title,children:"Shipper Admin"}),Object(n.jsx)(C.a,{smDown:!0,children:Object(n.jsxs)(X.a,{value:m,onChange:v,"aria-label":"simple tabs example",children:[Object(n.jsx)(Z.a,{icon:Object(n.jsx)(xe.a,{}),label:"Ordered",id:"simple-tab-1","aria-controls":"simple-tabpanel-1"}),Object(n.jsx)(Z.a,{icon:Object(n.jsx)(ye.a,{}),label:"Packed",id:"simple-tab-2","aria-controls":"simple-tabpanel-2"}),Object(n.jsx)(Z.a,{icon:Object(n.jsx)(Ce.a,{}),label:"Dispatched",id:"simple-tab-3","aria-controls":"simple-tabpanel-3"}),Object(n.jsx)(Z.a,{icon:Object(n.jsx)(Se.a,{}),label:"Delivered",id:"simple-tab-4","aria-controls":"simple-tabpanel-4"})]})}),Object(n.jsx)(J.a,{edge:"end",color:"inherit",onClick:s,children:o?Object(n.jsx)(A.a,{}):Object(n.jsx)(P.a,{})}),Object(n.jsx)(J.a,{edge:"end",color:"inherit",onClick:function(){sessionStorage.clear(),t.push("/")},children:Object(n.jsx)(he.a,{})})]})}),Object(n.jsx)(g.a,{container:u,justify:"space-evenly",alignItems:"center",className:e.tableGrid,children:Object(n.jsx)(g.a,{item:!0,xs:12,children:Object(n.jsx)(se.a,Object(d.a)(Object(d.a)({},Ae),{},{tableRef:a,data:function(e){return new Promise((function(t,a){var n="".concat(B,"/shipper/").concat(0===m?"ordered":1===m?"packed":2===m?"dispatched":"delivered","/").concat(e.page+1),c=sessionStorage.getItem("token");T.a.get(n,{headers:{Authorization:"Bearer ".concat(c)}}).then((function(a){return t({data:a.data,page:e.page,totalCount:a.data.length?parseInt(a.data[0].totalcount):0})})).catch((function(e){return a(e.message)}))}))},title:"ORDERS",actions:3!==m&&[{icon:"check-icon",tooltip:"".concat(0===m?"Pack Order":1===m?"Dispatch Order":"Deliver Order"),onClick:function(e,t){return function(e,t){return T.a.patch("".concat(B,"/shipper/orders/").concat("ordered"===t.status?"packed":"packed"===t.status?"dispatched":"delivered","/").concat(t.id),null,{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token")),"Content-Type":"application/json"}}).then((function(t){a.current.onChangePage(e,0)})).catch((function(e){return f(e.message,{variant:"error"})}))}(e,t)}},{icon:"delete",tooltip:"Cancel Order",onClick:function(e,t){return function(e,t,a){console.log(t),window.confirm("Do you want to cancel this order ?")&&T.a.patch("".concat(B,"/shipper/orders/cancelled/").concat(t.id),{},{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token")),"Content-Type":"application/json"}}).then((function(t){a.current.onChangePage(e,0)})).catch((function(e){console.log(Object.values(e)),f(e.message,{variant:"error"})}))}(e,t,a)}}]}))})}),Object(n.jsx)(C.a,{mdUp:!0,children:Object(n.jsx)(Y.a,{position:"fixed",color:"inherit",className:e.appBar,children:Object(n.jsx)(K.a,{children:Object(n.jsxs)(re.a,{value:m,onChange:v,className:e.root,showLabels:!0,children:[Object(n.jsx)(ie.a,{icon:Object(n.jsx)(xe.a,{}),label:"Ordered"}),Object(n.jsx)(ie.a,{icon:Object(n.jsx)(ye.a,{}),label:"Packed"}),Object(n.jsx)(ie.a,{icon:Object(n.jsx)(Ce.a,{}),label:"Dispatched"}),Object(n.jsx)(ie.a,{icon:Object(n.jsx)(Se.a,{}),label:"Delivered"})]})})})})]})}var Ie=a(71),Ne=Object(Ie.a)((function(e){return{appBar:{zIndex:e.zIndex.drawer+1},title:{flexGrow:1},drawerPaper:{width:360},menuButton:{marginRight:e.spacing(2)},tableGrid:Object(u.a)({marginTop:e.spacing(9)},e.breakpoints.up("sm"),{paddingLeft:e.spacing(1),paddingRight:e.spacing(1)})}})),Te={name:"",price:"",quantity:"",description:""},Be={cat_name:"All Products",id:""};function _e(){var e=Ne(),t=Object(l.f)(),a=Object(c.useRef)(),r=Object(c.useContext)(y),i=r.dark,o=r.toggleTheme,s=Object(M.a)((function(e){return e.breakpoints.up("sm")})),u=Object(c.useState)([]),m=Object(j.a)(u,2),O=m[0],f=m[1],v=Object(c.useState)(Be),C=Object(j.a)(v,2),k=C[0],S=C[1],w=Object(c.useState)(""),N=Object(j.a)(w,2),_=N[0],D=N[1],q=Object(c.useState)(!1),z=Object(j.a)(q,2),W=z[0],L=z[1],R=Object(c.useState)(!1),E=Object(j.a)(R,2),H=E[0],Q=E[1],X=Object(c.useState)(Te),Z=Object(j.a)(X,2),ne=Z[0],re=Z[1],ie=Object(c.useState)(!1),oe=Object(j.a)(ie,2),le=oe[0],de=oe[1],ue=function(){return de(!le)},be=function(e){var t=Object(d.a)({},ne);t[e.currentTarget.id]=e.currentTarget.value,re(t)},pe=Object(I.b)().enqueueSnackbar,me=function(){return L(!W)};Object(c.useEffect)((function(){return T.a.get("".concat(B,"/employees/categories"),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token")),"Content-Type":"application/json"}}).then((function(e){console.log(e.data),f(e.data)})).catch((function(e){return pe(e.message,{variant:"error"})}))}),[]);var Oe=function(e){return function(t){ue(),0===e.children.length&&S(e)}};Object(c.useEffect)((function(){a.current&&a.current.onQueryChange()}),[k]);var ge=function t(a){return a.children.map((function(a,c){return Object(n.jsxs)("div",{children:[Object(n.jsxs)(F.a,{style:{paddingLeft:16*a.lvl},button:0===a.children.length,selected:k.id===a.id&&0===a.children.length,onClick:Oe(a),disabled:a.children.length>0,children:[Object(n.jsx)(G.a,{className:e.menuButton,children:a.cat_icon}),Object(n.jsx)(U.a,{primary:a.cat_name})]}),a.children.length>0&&Object(n.jsx)(V.a,{component:"div",disablePadding:!0,children:Object(n.jsx)(t,{children:a.children})})]},c)}))};return Object(n.jsxs)(g.a,{children:[Object(n.jsx)(h.a,{}),Object(n.jsx)(Y.a,{position:"fixed",className:e.appBar,color:"inherit",children:Object(n.jsxs)(K.a,{children:[Object(n.jsx)(J.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu",onClick:ue,disabled:!O.length,children:Object(n.jsx)(je.a,{})}),Object(n.jsx)(x.a,{variant:"h6",noWrap:!0,className:e.title,children:"Merchant Admin"}),Object(n.jsx)(J.a,{edge:"end",color:"inherit",onClick:o,children:i?Object(n.jsx)(A.a,{}):Object(n.jsx)(P.a,{})}),Object(n.jsx)(J.a,{edge:"end",color:"inherit",onClick:function(){sessionStorage.clear(),t.push("/")},children:Object(n.jsx)(he.a,{})})]})}),Object(n.jsx)($.a,{open:le,anchor:"left",onOpen:ue,onClose:ue,children:Object(n.jsx)(V.a,{className:e.drawerPaper,children:Object(n.jsx)(ge,{children:O})})}),Object(n.jsx)(g.a,{container:s,justify:"space-evenly",alignItems:"center",className:e.tableGrid,children:Object(n.jsx)(g.a,{item:!0,xs:12,children:Object(n.jsx)(se.a,{tableRef:a,data:function(e){return new Promise((function(t,a){var n="".concat(B,"/merchants/").concat(k.id?k.id:"products","/").concat(e.page+1),c=sessionStorage.getItem("token");T.a.get(n,{headers:{Authorization:"Bearer ".concat(c)}}).then((function(a){return t({data:a.data,page:e.page,totalCount:a.data.length?parseInt(a.data[0].totalcount):0})})).catch((function(e){return a(e.message)}))}))},title:k.cat_name,options:{actionsColumnIndex:-1,pageSize:10,pageSizeOptions:[],search:!1},columns:[{title:"Name",field:"name",filtering:!1,sorting:!1},{title:"Price",field:"price",filtering:!1,sorting:!1},{title:"Quantity",field:"quantity",filtering:!1,sorting:!1}],actions:[{icon:"create",tooltip:"Edit Product",onClick:function(e,t){D(t.id),re({name:t.name,price:t.price,quantity:t.quantity,description:t.description}),me()}},{icon:"delete",tooltip:"Delete Product",onClick:function(e,t){window.confirm("Are you sure you want to delete the product: ".concat(t.name,"?"))&&T.a.delete("".concat(B,"/merchants/").concat(t.id),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token")),"Content-Type":"application/json"}}).then((function(e){a.current.onQueryChange()})).catch((function(e){return pe(e.message,{variant:"error"})}))}},{icon:"add",tooltip:"Add Product",isFreeAction:!0,onClick:me,hidden:!k.id},{icon:"cancel",tooltip:"Reset selection",isFreeAction:!0,onClick:function(e,t){S(Be)},hidden:!k.id}]})})}),Object(n.jsxs)(ee.a,{open:W,onClose:me,children:[Object(n.jsx)(te.a,{children:_?"Edit Product":"Add a new product"}),Object(n.jsx)(ae.a,{children:Object.getOwnPropertyNames(ne).map((function(e,t){return Object(n.jsx)(p.a,{id:e,label:e,margin:"normal",fullWidth:!0,variant:"outlined",value:ne[e],onChange:be,multiline:"description"===e,type:"quantity"===e?"number":"text"},t)}))}),Object(n.jsxs)(ce.a,{children:[Object(n.jsx)(b.a,{onClick:function(){me(),D("")},color:"secondary",children:"Cancel"}),Object(n.jsx)(b.a,{color:"primary",disabled:Object.getOwnPropertyNames(ne).some((function(e){return""===ne[e]})),onClick:function(){Q(!0),_?T.a.put("".concat(B,"/merchants/").concat(_),Object(d.a)({},ne),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){Q(!1),me(),re(Te),a.current.onQueryChange()})).catch((function(e){return pe(e.message,{variant:"error"})})):T.a.post("".concat(B,"/merchants/add-product"),Object(d.a)(Object(d.a)({},ne),{},{category_id:k.id}),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token")),"Content-Type":"application/json"}}).then((function(e){Q(!1),me(),re(Te),a.current.onQueryChange()})).catch((function(e){return pe(e.message,{variant:"error"})}))},children:H?"Submitting...":"Submit"})]})]})]})}var De=a(553),qe=a(270),ze=a(522),We=a(523),Le=a(526),Re=a(521),Ee=a(539),Me=a(540),Fe=a(541),Ge=a(542),Ue=a(543),He=a(544),Qe=a(545),Je=a(546),Ve=a(547),Ye=a(548),Ke=a(549),Xe=a(372),Ze=a(515),$e=a(516),et=a(518),tt=a(517),at=a(550),nt=r.a.memo((function(e){var t=e.page,a=e.setPage,r=e.handleSearch,i=Object(c.useState)([]),o=Object(j.a)(i,2),s=o[0],u=o[1],b=Object(l.g)(),h=Object(I.b)().enqueueSnackbar;Object(c.useEffect)((function(){if(b.search.includes("?page=")){var e=parseInt(new URLSearchParams(b.search).get("page"));T.a.get("".concat(B,"/users/products/").concat(e),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){u(e.data)})).catch(console.log)}else T.a.get("".concat(B,"/users/search").concat(b.search),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){u(e.data)})).catch(console.log)}),[b]);var p=function(e){var t=e.currentTarget.id,a=window.prompt('Select quantity of "'.concat(s[e.currentTarget.id].name,'" to add to cart. (ONLY ').concat(s[e.currentTarget.id].quantity," are available in stock)"));if(Number.isInteger(parseInt(a))){var n=Math.min(parseInt(a),s[e.currentTarget.id].quantity);n!==parseInt(a)&&h("Only ".concat(n," products were available, and added to cart!"),{variant:"warning",anchorOrigin:{vertical:"bottom",horizontal:"center"}}),T.a.post("".concat(B,"/users/add-to-cart"),{product_id:s[e.currentTarget.id].id,quantity:n,remainder:s[e.currentTarget.id].quantity-n},{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(){h("Added to cart",{variant:"success",anchorOrigin:{vertical:"bottom",horizontal:"center"}});var e=Object(Xe.a)(s);e[t]=Object(d.a)(Object(d.a)({},e[t]),{},{quantity:s[t].quantity-n}),u(e)})).catch((function(e){return h(e.message,{variant:"error",anchorOrigin:{vertical:"bottom",horizontal:"center"}})}))}};return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(g.a,{container:!0,spacing:1,children:s.map((function(e,t){return Object(n.jsx)(g.a,{item:!0,xs:12,md:4,children:Object(n.jsx)(Ze.a,{style:{height:"100%",width:"100%",backgroundColor:e.quantity<0&&"rgba(255,255,255,0.5)"},children:Object(n.jsxs)($e.a,{id:t,onClick:e.quantity>0&&p,children:[Object(n.jsx)(et.a,{style:{height:300},image:"https://picsum.photos/seed/".concat(Math.random(),"/500")}),Object(n.jsx)(tt.a,{title:e.name,subheader:e.description,action:"\u20b9"+e.price})]})})},t)}))}),Object(n.jsx)(g.a,{container:!0,direction:"row-reverse",justify:"flex-start",alignItems:"flex-end",children:s.length>0&&Object(n.jsx)(g.a,{item:!0,children:Object(n.jsx)(at.a,{count:Math.ceil(parseInt(s[0].totalcount)/10),variant:"outlined",shape:"rounded",page:t,onChange:function(e,t){console.log(t),a(t),r(t)},style:{height:"100%",marginTop:8}})})})]})})),ct=a(342),rt=a(533),it=a(534),ot=a(535),st=a(537),lt=a(538),dt=a(536);function jt(){var e=r.a.useState(null),t=Object(j.a)(e,2),a=t[0],c=t[1],i=r.a.useState(!1),o=Object(j.a)(i,2),s=o[0],h=o[1],m=r.a.useState(!1),O=Object(j.a)(m,2),x=O[0],f=O[1],y=r.a.useState({paymentMode:"",address:""}),v=Object(j.a)(y,2),C=v[0],k=v[1],S=function(){return h(!s)},w=Object(l.f)(),A=Object(l.h)().id,P=Object(I.b)().enqueueSnackbar,N=function(e){return k(Object(d.a)(Object(d.a)({},C),{},Object(u.a)({},e.target.id,e.target.value)))};return Object(n.jsxs)(g.a,{container:!0,spacing:1,children:[Object(n.jsx)(g.a,{item:!0,xs:12,children:Object(n.jsx)(se.a,{columns:[{title:"Product Name",field:"name",filtering:!1,sorting:!1},{title:"Rate (\u20b9)",field:"rate",filtering:!1,sorting:!1},{title:"Quantity",field:"quantity",filtering:!1,sorting:!1},{title:"Total (\u20b9)",field:"totalAmount",filtering:!1,sorting:!1}],options:{search:!1,paging:!1},title:null!==a?"Order: "+a.order_id:"Loading...",data:function(e){return new Promise((function(e,t){T.a.get("".concat(B,"/users/order/").concat(A),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(t){return c(t.data),e({data:t.data.products})})).catch((function(e){return t(e.message)}))}))},actions:null!==a&&[{icon:"add",isFreeAction:!0,tooltip:"Place Order",hidden:"ordering"!==a.status,onClick:S}]})}),null!==a&&Object(n.jsxs)(g.a,{item:!0,xs:12,children:[Object(n.jsxs)(rt.a,{children:[Object(n.jsxs)(it.a,{children:[Object(n.jsxs)(ot.a,{children:[Object(n.jsx)(dt.a,{variant:"outlined",color:"ordering"===a.status?"primary":"grey"}),Object(n.jsx)(st.a,{})]}),Object(n.jsx)(lt.a,{children:"Ordering"})]}),Object(n.jsxs)(it.a,{children:[Object(n.jsxs)(ot.a,{children:[Object(n.jsx)(dt.a,{variant:"outlined",color:"ordered"===a.status?"primary":"grey"}),Object(n.jsx)(st.a,{})]}),Object(n.jsx)(lt.a,{children:"Ordered"})]}),Object(n.jsxs)(it.a,{children:[Object(n.jsxs)(ot.a,{children:[Object(n.jsx)(dt.a,{variant:"outlined",color:"packed"===a.status?"primary":"grey"}),Object(n.jsx)(st.a,{})]}),Object(n.jsx)(lt.a,{children:"Packed"})]}),Object(n.jsxs)(it.a,{children:[Object(n.jsxs)(ot.a,{children:[Object(n.jsx)(dt.a,{variant:"outlined",color:"dispatched"===a.status?"primary":"grey"}),Object(n.jsx)(st.a,{})]}),Object(n.jsx)(lt.a,{children:"Dispatched"})]}),Object(n.jsxs)(it.a,{children:[Object(n.jsx)(ot.a,{children:Object(n.jsx)(dt.a,{variant:"outlined",color:"delivered"===a.status?"primary":"grey"})}),Object(n.jsx)(lt.a,{children:"Delivered"})]})]}),Object(n.jsx)("hr",{style:{opacity:"50%"}}),Object(n.jsxs)("h3",{style:{float:"right",marginRight:"1rem"},children:["Total : \u20b9 ",a.billAmount]})]}),Object(n.jsxs)(ee.a,{open:s,onClose:S,children:[Object(n.jsx)(te.a,{children:"Provide additional details before confirming order"}),Object(n.jsxs)(ae.a,{children:[Object(n.jsx)(p.a,{label:"How would you like to pay?",id:"paymentMode",value:C.paymentMode,onChange:N,fullWidth:!0,margin:"normal",variant:"outlined"}),Object(n.jsx)(p.a,{label:"Address",id:"address",value:C.address,onChange:N,fullWidth:!0,margin:"normal",variant:"outlined"})]}),Object(n.jsxs)(ce.a,{children:[Object(n.jsx)(b.a,{color:"secondary",onClick:S,children:"Cancel"}),Object(n.jsx)(b.a,{color:"primary",onClick:function(){f(!0),T.a.post("".concat(B,"/users/buy/").concat(A),Object(d.a)(Object(d.a)({},C),{},{netAmt:a.billAmount}),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(){return w.push("/user/orders")})).catch((function(e){return P(e.message,{variant:"error",anchorOrigin:{vertical:"bottom",horizontal:"center"}})})).finally((function(){return f(!1)}))},startIcon:x&&Object(n.jsx)(ct.a,{}),children:"Submit"})]})]})]})}var ut=function(){var e=Object(l.f)();return Object(n.jsx)(g.a,{container:!0,spacing:1,children:Object(n.jsx)(g.a,{item:!0,xs:12,children:Object(n.jsx)(se.a,{columns:[{title:"Order ID",field:"id",filtering:!1,sorting:!1},{title:"Status",field:"status",filtering:!1,sorting:!1},{title:"Grand Total",field:"netAmt",filtering:!1,sorting:!1},{title:"Payment mode",field:"paymentMode",filtering:!1,sorting:!1}],options:{paging:!1,search:!1},title:"My Orders",data:function(e){return new Promise((function(e,t){T.a.get("".concat(B,"/users/orders"),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(t){return e({data:t.data})})).catch((function(e){return t(e.message)}))}))},onRowClick:function(t,a){return e.push("/user/orders/".concat(a.id))}})})})},bt=function(e){var t=e.page,a=e.setPage,c=e.handleSearch,r=Object(l.i)(),i=r.path;r.url;return Object(n.jsxs)(l.c,{children:[Object(n.jsx)(l.a,{exact:!0,path:i,children:Object(n.jsx)(nt,{page:t,setPage:a,handleSearch:c})}),Object(n.jsx)(l.a,{exact:!0,path:i+"/orders",component:ut}),Object(n.jsx)(l.a,{path:i+"/orders/:id",component:jt})]})},ht=r.a.memo(bt),pt=Object(Ie.a)((function(e){return{root:{minHeight:"100vh"},image:{flexGrow:1,justifyContent:"center"},AppBar:{boxShadow:"none"},small:{width:e.spacing(4),height:e.spacing(4),marginRight:e.spacing(2)},toolbar:e.mixins.toolbar,content:{padding:e.spacing(3)},menuButton:{marginRight:e.spacing(2)},list:{width:360}}})),mt={cat_name:"",id:""},Ot=function(){var e=Object(c.useState)(null),t=Object(j.a)(e,2),a=t[0],r=t[1],i=Object(c.useState)([]),o=Object(j.a)(i,2),s=o[0],d=o[1],u=Object(c.useState)(mt),b=Object(j.a)(u,2),m=b[0],O=b[1],g=Object(c.useState)(!1),x=Object(j.a)(g,2),f=x[0],v=x[1],C=Object(c.useState)(!1),k=Object(j.a)(C,2),S=k[0],w=k[1],N=Object(c.useState)(""),_=Object(j.a)(N,2),D=_[0],q=_[1],z=Object(c.useState)(!1),W=Object(j.a)(z,2),L=W[0],R=W[1],E=Object(c.useState)(!1),M=Object(j.a)(E,2),Q=M[0],X=M[1],Z=Object(c.useState)(1),ee=Object(j.a)(Z,2),te=ee[0],ae=ee[1],ne=function(){return v(!f)},ce=function(){return w(!S)},re=pt(),ie=Object(c.useContext)(y),oe=ie.dark,se=ie.toggleTheme,le=Object(l.f)(),de=Object(l.g)(),je=Object(I.b)().enqueueSnackbar;Object(c.useEffect)((function(){T.a.get("".concat(B,"/users/"),{headers:{Authorization:"Bearer ".concat(sessionStorage.token)}}).then((function(e){return r(e.data[0])})).catch((function(e){return je(e.message,{variant:"error"})})).finally((function(){return console.log(de)})),T.a.get("".concat(B,"/employees/categories"),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token")),"Content-Type":"application/json"}}).then((function(e){console.log(e.data),d(e.data)})).catch((function(e){return je(e.message,{variant:"error"})}))}),[]);var ue=function(e){return function(t){0===e.children.length&&O(e)}},be=function e(t){return t.children.map((function(t,a){return Object(n.jsxs)("div",{children:[Object(n.jsxs)(F.a,{style:{paddingLeft:16*t.lvl},button:0===t.children.length,selected:m.id===t.id&&0===t.children.length,onClick:ue(t),disabled:t.children.length>0,children:[Object(n.jsx)(G.a,{className:re.menuButton,children:t.cat_icon}),Object(n.jsx)(U.a,{primary:t.cat_name})]}),t.children.length>0&&Object(n.jsx)(V.a,{component:"div",disablePadding:!0,children:Object(n.jsx)(e,{children:t.children})})]},a)}))},pe=function(e){le.push("/user?searchTerm="+D+"&category_id="+m.id+(L?"&price=true":"")+"&sortOrder="+(Q?"ASC":"DESC")+"&page="+te)},me=Object(c.useCallback)((function(e){de.search.includes("?page=")?le.push("/user?page="+e):le.push("/user?searchTerm="+D+"&category_id="+m.id+(L?"&price=true":"")+"&sortOrder="+(Q?"ASC":"DESC")+"&page="+e)}),[]);return Object(n.jsxs)("div",{className:re.root,children:[Object(n.jsx)(h.a,{}),Object(n.jsx)(Y.a,{position:"fixed",className:re.AppBar,color:"inherit",children:Object(n.jsxs)(K.a,{children:[Object(n.jsx)(De.a,{variant:"rounded",className:re.small,onClick:ne,children:a?a.name.split(" ").map((function(e){return e[0]})).join(""):"NA"}),Object(n.jsx)(p.a,{className:re.menuButton,placeholder:"Search the cosmos",fullWidth:!0,onSubmit:pe,value:D,onChange:function(e){return q(e.target.value)},InputProps:{startAdornment:Object(n.jsx)(qe.a,{position:"end",children:Object(n.jsx)(J.a,{edge:"start",color:"inherit",onClick:pe,disabled:!D.length,children:Object(n.jsx)(Ee.a,{})})}),endAdornment:D.length>0&&Object(n.jsx)(qe.a,{position:"end",children:Object(n.jsx)(J.a,{edge:"start",color:"inherit",onClick:function(e){e.preventDefault(),ae(1),q(""),O(mt),R(!1),X(!1),le.push("/user?page=1")},disabled:!D.length,children:Object(n.jsx)(Me.a,{})})})}}),Object(n.jsx)(J.a,{edge:"end",color:"inherit",onClick:ce,children:Object(n.jsx)(Fe.a,{})})]})}),Object(n.jsxs)("main",{className:re.content,children:[Object(n.jsx)("div",{className:re.toolbar}),Object(n.jsx)(ht,{page:te,setPage:ae,handleSearch:me})]}),a&&Object(n.jsx)($.a,{open:f,anchor:"left",onOpen:ne,onClose:ne,children:Object(n.jsxs)(V.a,{className:re.list,children:[Object(n.jsxs)(F.a,{children:[Object(n.jsx)(ze.a,{children:Object(n.jsx)(De.a,{children:a.name.split(" ").map((function(e){return e[0]})).join("")})}),Object(n.jsx)(U.a,{primary:a.name,secondary:a.email})]}),Object(n.jsxs)(F.a,{children:[Object(n.jsx)(We.a,{children:Object(n.jsx)(Ge.a,{})}),Object(n.jsx)(U.a,{secondary:"Phone: ".concat(a.phone),primary:"Wallet: ".concat(a.walletAmt)})]}),Object(n.jsxs)(F.a,{children:[Object(n.jsx)(We.a,{children:Object(n.jsx)(Ue.a,{})}),Object(n.jsx)(U.a,{primary:"DOB: ".concat(a.date_of_birth.toString().split("T")[0]),secondary:"Gender: ".concat(a.gender)})]}),Object(n.jsxs)(F.a,{button:!0,onClick:function(){ae(1),ne(),le.push("/user?page=1")},children:[Object(n.jsx)(We.a,{children:Object(n.jsx)(He.a,{})}),Object(n.jsx)(U.a,{primary:"Home"})]}),Object(n.jsxs)(F.a,{button:!0,onClick:function(){ne(),le.push("/user/orders")},children:[Object(n.jsx)(We.a,{children:Object(n.jsx)(Qe.a,{})}),Object(n.jsx)(U.a,{primary:"My Orders"})]}),Object(n.jsxs)(F.a,{button:!0,onClick:se,children:[Object(n.jsx)(We.a,{children:oe?Object(n.jsx)(A.a,{}):Object(n.jsx)(P.a,{})}),Object(n.jsx)(U.a,{primary:oe?"Light theme":"Dark theme"})]}),Object(n.jsxs)(F.a,{button:!0,onClick:function(){sessionStorage.clear(),le.push("/")},children:[Object(n.jsx)(We.a,{children:Object(n.jsx)(he.a,{})}),Object(n.jsx)(U.a,{primary:"Log out"})]})]})}),s&&Object(n.jsx)($.a,{open:S,anchor:"right",onOpen:ce,onClose:ce,children:Object(n.jsxs)(V.a,{className:re.list,children:[Object(n.jsxs)(F.a,{children:[Object(n.jsx)(We.a,{children:L?Object(n.jsx)(Je.a,{}):Object(n.jsx)(Ve.a,{})}),Object(n.jsx)(U.a,{primary:"Order by",secondary:"Ordering by ".concat(L?"Price":"Date")}),Object(n.jsx)(H.a,{children:Object(n.jsx)(Le.a,{edge:"end",checked:L,onChange:function(){return R(!L)}})})]}),Object(n.jsxs)(F.a,{children:[Object(n.jsx)(We.a,{children:Q?Object(n.jsx)(Ye.a,{}):Object(n.jsx)(Ke.a,{})}),Object(n.jsx)(U.a,{primary:"Order",secondary:Q?"Low to High":"High to Low"}),Object(n.jsx)(H.a,{children:Object(n.jsx)(Le.a,{edge:"end",checked:Q,onChange:function(){return X(!Q)}})})]}),Object(n.jsx)(Re.a,{}),Object(n.jsxs)(F.a,{children:[Object(n.jsx)(U.a,{primaryTypographyProps:{color:m.cat_name.length?"textPrimary":"textSecondary"},primary:"Selected Category",secondary:m.cat_name}),m.cat_name.length>0&&Object(n.jsx)(H.a,{children:Object(n.jsx)(J.a,{onClick:function(){return O(mt)},children:Object(n.jsx)(Me.a,{})})})]}),Object(n.jsx)(be,{children:s})]})})]})},gt=r.a.memo(Ot);function xt(){return Object(n.jsx)(s.a,{children:Object(n.jsxs)(l.c,{children:[Object(n.jsx)(l.a,{exact:!0,path:"/",component:D}),Object(n.jsx)(l.a,{path:"/register",component:E}),Object(n.jsx)(l.a,{path:"/employee",component:Oe}),Object(n.jsx)(l.a,{path:"/merchant",component:_e}),Object(n.jsx)(l.a,{path:"/shipper",component:Pe}),Object(n.jsx)(l.a,{path:"/user",component:gt}),Object(n.jsx)(l.a,{path:"/my-order/:order_id",component:jt})]})})}var ft=a(54),yt=a(137),vt=a(509),Ct={palette:{type:"light",primary:{main:ft.colors.blue[600]},secondary:{main:ft.colors.teal[600]}}},kt={palette:{type:"dark",primary:{main:ft.colors.blue[200]},secondary:{main:ft.colors.teal[200]}}};var St=function(){var e=r.a.useContext(y).dark,t=r.a.useMemo((function(){return e?Object(yt.a)(kt):Object(yt.a)(Ct)}),[e]);return Object(n.jsxs)(vt.a,{theme:t,children:[Object(n.jsx)(h.a,{}),Object(n.jsx)(xt,{})]})},wt=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,556)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;a(e),n(e),c(e),r(e),i(e)}))};o.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(v,{children:Object(n.jsx)(I.a,{maxSnack:3,children:Object(n.jsx)(St,{})})})}),document.getElementById("root")),wt()}},[[469,1,2]]]);
//# sourceMappingURL=main.05f6b9f6.chunk.js.map